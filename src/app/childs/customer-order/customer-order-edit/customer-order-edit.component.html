<form #f="ngForm" (ngSubmit)="submit()">
  <app-table-header titleText="Kundenbestellung bearbeiten" showBack="true" showCancelAndSave="true"
                    [form]="f"></app-table-header>
  <div class="main-container">
    <mat-card class="mat-card-padding">
      <p class="const">Bestellnummer: {{order.id}}</p>
      <p class="const">Bestelldatum: {{order.date | date: "dd.MM.yyyy HH:mm:ss"}}</p>
      <p class="const">Besteller: {{order.user?.prename}} {{order.user?.name}} ({{order.user?.email}})</p>
      <p class="const">Preis Total: {{order.totalPrice | currency: 'CHF '}}</p>
      <mat-form-field class="full-width" color="accent">
        <mat-select placeholder="Standort" #location name="location"
                    [(ngModel)]="order.location" (change)="locationChange()">
          <mat-option *ngFor="let location of locationSubject | async" [value]="location">
            {{location.description}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field class="full-width" color="accent">
        <mat-select placeholder="geplante Abholung" #plannedCheckout name="plannedCheckout"
                    [(ngModel)]="order.plannedCheckout" required>
          <mat-option *ngFor="let openingHour of order.location?.openingHours" [value]="openingHour">
            {{openingHour.fromDate | date: "EEEE dd.MM.y": "GMT": "de-CH"}}, ge√∂ffnet von:
            {{openingHour.fromDate | date: "HH:mm"}}
            bis: {{openingHour.toDate | date: "HH:mm"}}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-checkbox class="full-width" name="done" [(ngModel)]="order.checkedOut">Abgeholt</mat-checkbox>
    </mat-card>
  </div>
  <router-outlet name="orderItem"></router-outlet>
</form>
